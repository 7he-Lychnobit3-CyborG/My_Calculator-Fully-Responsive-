<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style1.css" id="light">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Calculator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>
<body>
    <div class="CalculatorContainer">
        <div class="MainCalculator">
            <center>
                <div class="center"><label for="checkbox" class="toggler">
                    <input type="checkbox" id="checkbox" class="Btn-Toggle">
                    <span class="ball"></span>
                </label>
                </div>
                <h2>SP @ CALCULATOR @ SP</h2>
            </center>
            <div class="CalculatorScreen2">
                <div class="CalculatorScreen">
                    <div class="ProblemExpression" id="SecondScreen">
                        0
                    </div>
                    <div class="Brand"></div>
                    <div class="ProblemStatement Result" id="ProblemScreen">
                        0
                    </div>
                </div>
            </div>
            <div class="CalculatorKeypad">
                <div class="LeftSidePart">
                    <div class="LeftKeypadRow1 LeftKeypadRow">
                        <div class="CeKey" id="CeKey">CE</div>
                        <div class="CKey" id="CKey">C</div>
                        <div class="BackSpaceKey" id="BackSpaceKey"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></div>
                        <div class="DevideKey" id="DevideKey">√∑</div>
                    </div>
                    <div class="LeftKeypadRow2 LeftKeypadRow">
                        <div class="7Key" id="7Key">7</div>
                        <div class="8Key" id="8Key">8</div>
                        <div class="9Key" id="9Key">9</div>
                        <div class="MultipicationKey NormalSignBtn" id="MultipicationKey">X</div>
                    </div>
                    <div class="LeftKeypadRow3 LeftKeypadRow">
                        <div class="4Key" id="4Key">4</div>
                        <div class="5Key" id="5Key">5</div>
                        <div class="6Key" id="6Key">6</div>
                        <div class="MinusKey NormalSignBtn" id="MinusKey">-</div>
                    </div>
                    <div class="LeftKeypadRow4 LeftKeypadRow">
                        <div class="1Key" id="1Key">1</div>
                        <div class="2Key" id="2Key">2</div>
                        <div class="3Key" id="3Key">3</div>
                        <div class="SummessionKey NormalSignBtn" id="SummessionKey">+</div>
                    </div>
                    <div class="LeftKeypadRow5 LeftKeypadRow">
                        <div class="PointKey NormalSignBtn" id="PointKey">.</div>
                        <div class="0Key" id="0Key">0</div>
                        <div class="EqualKey" id="EqualKey">=</div>
                    </div>
                </div>
                <div class="RightSidePart">
                    <div class="RightKeypadRow1 RightKeypadRow">
                        <div class="SinKey" id="SinKey">Sin</div>
                        <div class="SinInvKey" id="SinInvKey">Sin<sup>-1</sup> </div>
                        <div class="FactorialKey" id="FactorialKey">!</div>
                        <div class="LnKey" id="LnKey">ln</div>
                    </div>
                    <div class="RightKeypadRow2 RightKeypadRow">
                        <div class="CosKey" id="CosKey">Cos</div>
                        <div class="CosInvKey" id="CosInvKey">Cos<sup>-1</sup> </div>
                        <div class="nPrKey" id="nPrKey">nPr</div>
                        <div class="Log10Key" id="Log10Key">log<sub>10</sub></div>
                    </div>
                    <div class="RightKeypadRow3 RightKeypadRow">
                        <div class="TanKey" id="TanKey">tan</div>
                        <div class="TanInvKey" id="TanInvKey">tan<sup>-1</sup> </div>
                        <div class="nCrKey" id="nCrKey">nCr</div>
                        <div class="EPowerXKey" id="EPowerXKey">e<sup>x</sup></div>
                    </div>
                    <div class="RightKeypadRow4 RightKeypadRow">
                        <div class="PowerKey" id="PowerKey">^</div>
                        <div class="RootKey" id="RootKey">‚àö</div>
                        <div class="PiKey" id="PiKey">ùùÖ</div>
                        <div class="eKey" id="eKey">e</div>
                    </div>
                    <div class="RightKeypadRow5 RightKeypadRow">
                        <div class="OpenBracketKey" id="OpenBracketKey">(</div>
                        <div class="CloseBracketKey" id="CloseBracketKey">)</div>
                        <div class="PercentKey" id="PercentKey">%</div>
                        <div class="SquereKey" id="SquereKey">x<sup>2</sup></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/js/all.min.js" integrity="sha512-6PM0qYu5KExuNcKt5bURAoT6KCThUmHRewN3zUFNaoI6Di7XJPTMoT6K0nsagZKk2OB4L7E3q1uQKHNHd4stIQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        const Btn=document.querySelector(".Btn-Toggle");
        const theme=document.querySelector("#light");
        Btn.addEventListener("click",function()
        {
            if(theme.getAttribute("href")=="style1.css")
                theme.href="style2.css";
            else
                theme.href="style1.css";
        }
        );
        const Screen1 = document.getElementById("ProblemScreen");
        const Screen2 = document.getElementById("SecondScreen");
        const Brand = document.getElementsByClassName("Brand")[0];
        Brand.innerHTML = "SP_Calculator";

        const CEButton = document.getElementById("CeKey");
        const CButton = document.getElementById("CKey");
        const BackSpaceButton = document.getElementById("BackSpaceKey");
        const DevideButton = document.getElementById("DevideKey");
        const MultipicationButton = document.getElementById("MultipicationKey");
        const MinusButton = document.getElementById("MinusKey");
        const SummessionButton = document.getElementById("SummessionKey");

        const ZeroButton = document.getElementById("0Key");
        const OneButton = document.getElementById("1Key");
        const TwoButton = document.getElementById("2Key");
        const ThreeButton = document.getElementById("3Key");
        const FourButton = document.getElementById("4Key");
        const FiveButton = document.getElementById("5Key");
        const SixButton = document.getElementById("6Key");
        const SevenButton = document.getElementById("7Key");
        const EightButton = document.getElementById("8Key");
        const NineButton = document.getElementById("9Key");
        const PointButton = document.getElementById("PointKey");

        const EqualButton = document.getElementById("EqualKey");

        const SinButton = document.getElementById("SinKey");
        const CosButton = document.getElementById("CosKey");
        const TanButton = document.getElementById("TanKey");
        const SinInvButton = document.getElementById("SinInvKey");
        const CosInvButton = document.getElementById("CosInvKey");
        const TanInvButton = document.getElementById("TanInvKey");

        const FactorialButton = document.getElementById("FactorialKey");
        const nPrButton = document.getElementById("nPrKey");
        const nCrButton = document.getElementById("nCrKey");

        const LnButton = document.getElementById("LnKey");
        const Log10Button = document.getElementById("Log10Key");
        const EPowerXButton = document.getElementById("EPowerXKey");

        const PowerButton = document.getElementById("PowerKey");
        const RootButton = document.getElementById("RootKey");
        const PiButton = document.getElementById("PiKey");
        const EButton = document.getElementById("eKey");
        const OpenBracketButton = document.getElementById("OpenBracketKey");
        const CloseBracketButton = document.getElementById("CloseBracketKey");
        const PercentButton = document.getElementById("PercentKey");
        const SquereButton = document.getElementById("SquereKey");

        var Screen1Value = "";
        var Expression = "";
        var SpecialOperation = ""

        function factorial(a){
            if(a===0){
                return 1;
            }
            return (a * factorial(a-1))
        }

        function nPr(n,r){
           return factorial(n)/factorial(n-r);
        }
        function nCr(n,r){
            return factorial(n)/(factorial(r)*factorial(n-r));
        }

        OneButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "1";
            Expression = Expression + "1";
            Screen1.innerHTML = Screen1Value;
        })
        TwoButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "2";
            Expression = Expression + "2";
            Screen1.innerHTML = Screen1Value;
        })
        ThreeButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "3";
            Expression = Expression + "3";
            Screen1.innerHTML = Screen1Value;
        })
        FourButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "4";
            Expression = Expression + "4";
            Screen1.innerHTML = Screen1Value;
        })
        FiveButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "5";
            Expression = Expression + "5";
            Screen1.innerHTML = Screen1Value;
        })
        SixButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "6";
            Expression = Expression + "6";
            Screen1.innerHTML = Screen1Value;
        })
        SevenButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "7";
            Expression = Expression + "7";
            Screen1.innerHTML = Screen1Value;
        })
        EightButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "8";
            Expression = Expression + "8";
            Screen1.innerHTML = Screen1Value;
        })
        NineButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "9";
            Expression = Expression + "9";
            Screen1.innerHTML = Screen1Value;
        })
        ZeroButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "0";
            Expression = Expression + "0";
            Screen1.innerHTML = Screen1Value;
        })
        PointButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + ".";
            Expression = Expression + ".";
            Screen1.innerHTML = Screen1Value;
        })

        CEButton.addEventListener("click", ()=>{
            location.reload();
        })
        CButton.addEventListener("click", ()=>{
            Expression = "";
            Screen1Value = "";
            Screen1.innerHTML = "0";
        })
        BackSpaceButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value.slice(0,Screen1Value.length-1);
            Screen1.innerHTML = Screen1Value;
        })

        DevideButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "√∑";
            Expression = Expression + "/";
            Screen1.innerHTML = Screen1Value; 
        })
        MultipicationButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "X";
            Expression = Expression + "*";
            Screen1.innerHTML = Screen1Value;
        })
        MinusButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "-";
            Expression = Expression + "-";
            Screen1.innerHTML = Screen1Value;
        })
        SummessionButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "+";
            Expression = Expression + "+";
            Screen1.innerHTML = Screen1Value;
        })
        OpenBracketButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "(";
            Expression = Expression + "(";
            Screen1.innerHTML = Screen1Value;
        })
        CloseBracketButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + ")";
            Expression = Expression + ")";
            Screen1.innerHTML = Screen1Value;
        })
        PowerButton.addEventListener("click",()=>{
            Screen1Value = Screen1Value + "^";
            Expression = Expression + "**";
            Screen1.innerHTML = Screen1Value;
        })
        RootButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "‚àö(";
            Expression = Expression + "Math.sqrt(";
            Screen1.innerHTML = Screen1Value;
        })
        SquereButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "^2";
            Expression = Expression + "**2";
            Screen1.innerHTML = Screen1Value;
        })
        PiButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "ùùÖ";
            Expression = Expression + "Math.PI";
            Screen1.innerHTML = Screen1Value;
        })
        EButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "e";
            Expression = Expression + "Math.E";
            Screen1.innerHTML = Screen1Value;
        })
        SinButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "sin(";
            Expression = Expression + "Math.sin((Math.PI/(180))*";
            Screen1.innerHTML = Screen1Value;
        })
        CosButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "cos(";
            Expression = Expression + "Math.cos((Math.PI/(180))*";
            Screen1.innerHTML = Screen1Value;
        })
        TanButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "tan(";
            Expression = Expression + "Math.tan((Math.PI/(180))*";
            Screen1.innerHTML = Screen1Value;
        })
        SinInvButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "sin‚Åª¬π(";
            Expression = Expression + "(180/Math.PI)*Math.asin(";
            Screen1.innerHTML = Screen1Value;
        })
        CosInvButton
        CosInvButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "cos‚Åª¬π(";
            Expression = Expression + "(180/Math.PI)*Math.acos(";
            Screen1.innerHTML = Screen1Value;
        })
        TanInvButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "tan‚Åª¬π(";
            Expression = Expression + "(180/Math.PI)*Math.atan(";
            Screen1.innerHTML = Screen1Value;
        })
        PercentButton.addEventListener("click", ()=>{
            Screen1Value = Screen1Value + "%";
            Expression = Expression+ "/100";
            Screen1.innerHTML = Screen1Value;
        })
        FactorialButton.addEventListener("click",()=>{
            Screen1Value = Screen1Value + "!";
            Expression = factorial(eval(Expression));
            Screen1.innerHTML = Screen1Value; 
        })
        var n = 0;
        nPrButton.addEventListener("click",()=>{
            n = Number(Expression);
            Screen1Value = Screen1Value + "P";
            Screen1.innerHTML = Screen1Value; 
            Expression = "P";
        })
        nCrButton.addEventListener("click",()=>{
            n = Number(Expression);
            Screen1Value = Screen1Value + "C";
            Screen1.innerHTML = Screen1Value; 
            Expression = "C";
        })
        LnButton.addEventListener("click",()=>{
            Screen1Value = Screen1Value + "ln(";
            Expression = Expression + "Math.log(";
            Screen1.innerHTML = Screen1Value;
        })
        Log10Button.addEventListener("click",()=>{
            Screen1Value = Screen1Value + "log<sub>10</sub>(";
            Expression = Expression + "Math.log10(";
            Screen1.innerHTML = Screen1Value;
        })
        EPowerXButton.addEventListener("click",()=>{
            Screen1Value = Screen1Value + "e^";
            Expression = Expression + "Math.E**";
            Screen1.innerHTML = Screen1Value;
        })
        EqualButton.addEventListener("click",()=>{
            if(Expression[0]==="P"){
                r = Number(Expression.slice(1,Expression.length))
                Expression = nPr(n,r)
            }
            if(Expression[0]==="C"){
                r = Number(Expression.slice(1,Expression.length))
                Expression = nCr(n,r)
            }
            Screen2.innerHTML = Screen1Value;
            ans = eval(Expression);
            Screen1Value = String(ans);
            Screen1.innerHTML = ans;
        })
    </script>
</body>
</html>